(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},38938,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let i=(0,r.createContext)(void 0);function o({children:e}){let[o,a]=(0,r.useState)(null),[n,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);a(t);try{let e=await fetch("/api/auth/profile",{headers:{"x-user-id":t.id}});if(e.ok){let t=await e.json();t.user&&(a(t.user),localStorage.setItem("user",JSON.stringify(t.user)))}}catch(e){console.log("Could not fetch profile from DB, using cached:",e)}}catch(e){console.log("[v0] Error parsing user from localStorage:",e),localStorage.removeItem("user")}s(!1)})()},[]);let l=async(e,t)=>{s(!0);try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),i=await r.json();if(!r.ok)throw Error(i.error||"Login failed");a(i.user),localStorage.setItem("user",JSON.stringify(i.user))}catch(e){throw console.error("Login error:",e),e}finally{s(!1)}},u=async(e,t,r)=>{s(!0);try{let i=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,name:t,password:r})}),o=await i.json();if(!i.ok)throw Error(o.error||"Signup failed");a(o.user),localStorage.setItem("user",JSON.stringify(o.user))}catch(e){throw console.error("Signup error:",e),e}finally{s(!1)}},c=async e=>{if(o)try{let t=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":o.id},body:JSON.stringify(e)});if(t.ok){let e=await t.json();e.user&&(a(e.user),localStorage.setItem("user",JSON.stringify(e.user)))}else{let t={...o,...e};a(t),localStorage.setItem("user",JSON.stringify(t))}}catch(r){let t={...o,...e};a(t),localStorage.setItem("user",JSON.stringify(t))}};return(0,t.jsx)(i.Provider,{value:{user:o,isLoading:n,login:l,signup:u,logout:()=>{a(null),localStorage.removeItem("user")},updateProfile:c},children:e})}function a(){let e=(0,r.useContext)(i);if(!e)throw Error("useAuth must be used within AuthProvider");return e}e.s(["AuthProvider",()=>o,"useAuth",()=>a])},64347,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let i=(0,r.createContext)(void 0);function o({children:e}){let[o,a]=(0,r.useState)("light"),[n,s]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{s(!0);let e=localStorage.getItem("theme")||"light";a(e),document.documentElement.classList.toggle("dark","dark"===e)},[]),n)?(0,t.jsx)(i.Provider,{value:{theme:o,toggleTheme:()=>{a(e=>{let t="light"===e?"dark":"light";return localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark","dark"===t),t})}},children:e}):(0,t.jsx)(t.Fragment,{children:e})}function a(){let e=(0,r.useContext)(i);return e||{theme:"light",toggleTheme:()=>{}}}e.s(["ThemeProvider",()=>o,"useTheme",()=>a])},95904,23616,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let i=(0,r.createContext)(void 0);function o({children:e}){let[o,a]=(0,r.useState)([]),n=e=>{a(t=>t.filter(t=>t.id!==e))},s=o.reduce((e,t)=>e+t.price*t.quantity,0);return(0,t.jsx)(i.Provider,{value:{items:o,addItem:e=>{a(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeItem:n,updateQuantity:(e,t)=>{t<=0?n(e):a(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},clearCart:()=>{a([])},total:s},children:e})}function a(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useCart must be used within CartProvider");return e}e.s(["CartProvider",()=>o,"useCart",()=>a],95904);let n=(0,r.createContext)(void 0);function s({children:e}){let[i,o]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=localStorage.getItem("wishlist");if(e)try{o(JSON.parse(e))}catch(e){console.error("Error parsing wishlist from localStorage:",e),localStorage.removeItem("wishlist")}},[]),(0,t.jsx)(n.Provider,{value:{items:i,addToWishlist:e=>{o(t=>{if(!t.includes(e)){let r=[...t,e];return localStorage.setItem("wishlist",JSON.stringify(r)),r}return t})},removeFromWishlist:e=>{o(t=>{let r=t.filter(t=>t!==e);return localStorage.setItem("wishlist",JSON.stringify(r)),r})},isInWishlist:e=>i.includes(e)},children:e})}function l(){let e=(0,r.useContext)(n);if(!e)throw Error("useWishlist must be used within WishlistProvider");return e}e.s(["WishlistProvider",()=>s,"useWishlist",()=>l],23616)},2355,e=>{"use strict";var t=e.i(47167),r=e.i(71645),i=e.i(18566);function o(){return"undefined"!=typeof window}function a(){return"production"}function n(){return"development"===((o()?window.vam:a())||"production")}function s(e){return RegExp(`/${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(?=[/?#]|$)`)}function l(e){return(0,r.useEffect)(()=>{var t;e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),(0,r.useEffect)(()=>{!function(e={debug:!0}){var t;if(!o())return;!function(e="auto"){if("auto"===e){window.vam=a();return}window.vam=e}(e.mode),window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)}),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let r=e.scriptSrc?e.scriptSrc:n()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js";if(document.head.querySelector(`script[src*="${r}"]`))return;let i=document.createElement("script");i.src=r,i.defer=!0,i.dataset.sdkn="@vercel/analytics"+(e.framework?`/${e.framework}`:""),i.dataset.sdkv="1.5.0",e.disableAutoTrack&&(i.dataset.disableAutoTrack="1"),e.endpoint?i.dataset.endpoint=e.endpoint:e.basePath&&(i.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(i.dataset.dsn=e.dsn),i.onerror=()=>{let e=n()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${e}`)},n()&&!1===e.debug&&(i.dataset.debug="false"),document.head.appendChild(i)}({framework:e.framework||"react",basePath:e.basePath??function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...void 0!==e.route&&{disableAutoTrack:!0},...e})},[]),(0,r.useEffect)(()=>{e.route&&e.path&&function({route:e,path:t}){var r;null==(r=window.va)||r.call(window,"pageview",{route:e,path:t})}({route:e.route,path:e.path})},[e.route,e.path]),null}function u(e){let o,a,n,{route:u,path:c}=(o=(0,i.useParams)(),a=(0,i.useSearchParams)(),n=(0,i.usePathname)(),o?{route:function(e,t){if(!e||!t)return e;let r=e;try{let e=Object.entries(t);for(let[t,i]of e)if(!Array.isArray(i)){let e=s(i);e.test(r)&&(r=r.replace(e,`/[${t}]`))}for(let[t,i]of e)if(Array.isArray(i)){let e=s(i.join("/"));e.test(r)&&(r=r.replace(e,`/[...${t}]`))}return r}catch(t){return e}}(n,Object.keys(o).length?o:Object.fromEntries(a.entries())),path:n}:{route:null,path:n});return r.default.createElement(l,{path:c,route:u,...e,basePath:function(){if(void 0!==t.default&&void 0!==t.default.env)return t.default.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}(),framework:"next"})}function c(e){return r.default.createElement(r.Suspense,{fallback:null},r.default.createElement(u,{...e}))}e.s(["Analytics",()=>c])},96923,e=>{"use strict";var t=e.i(43476),r=e.i(95904),i=e.i(64347),o=e.i(38938),a=e.i(23616);function n({children:e}){return(0,t.jsx)(i.ThemeProvider,{children:(0,t.jsx)(o.AuthProvider,{children:(0,t.jsx)(r.CartProvider,{children:(0,t.jsx)(a.WishlistProvider,{children:e})})})})}e.s(["Providers",()=>n])}]);