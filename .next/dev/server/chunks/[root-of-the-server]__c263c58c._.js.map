{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///E:/E-Commerce/lib/db.ts"],"sourcesContent":["import mongoose from 'mongoose'\n\nconst MONGODB_URI = process.env.MONGODB_URI || 'mongodb+srv://arshuarshad1551_db_user:1Q4qtUxiXhuxUWx0@cluster0.iljaupv.mongodb.net/fashino?retryWrites=true&w=majority&appName=Cluster0'\n\nif (!MONGODB_URI) {\n  throw new Error('Please define the MONGODB_URI environment variable inside .env.local')\n}\n\ninterface MongooseCache {\n  conn: typeof mongoose | null\n  promise: Promise<typeof mongoose> | null\n}\n\ndeclare global {\n  var mongoose: MongooseCache | undefined\n}\n\nlet cached: MongooseCache = global.mongoose || { conn: null, promise: null }\n\nif (!global.mongoose) {\n  global.mongoose = cached\n}\n\nasync function connectDB() {\n  if (cached.conn) {\n    console.log('ðŸ“¦ Using existing MongoDB connection')\n    return cached.conn\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: false,\n      serverSelectionTimeoutMS: 15000, // 15 seconds timeout\n      socketTimeoutMS: 45000, // 45 seconds socket timeout\n      maxPoolSize: 10,\n      minPoolSize: 1,\n    }\n\n    console.log('ðŸ”„ Attempting to connect to MongoDB Atlas...')\n    \n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\n      console.log('âœ… MongoDB Connected Successfully!')\n      console.log(`ðŸ“Š Database: ${mongoose.connection.db?.databaseName || 'fashino'}`)\n      return mongoose\n    }).catch((error) => {\n      console.error('âŒ MongoDB Connection Error:', error.message)\n      console.error('Full error:', error)\n      \n      // Provide helpful error messages\n      if (error.message.includes('IP') || error.message.includes('whitelist') || error.message.includes('ENOTFOUND')) {\n        throw new Error(\n          'Could not connect to MongoDB Atlas. Your IP address may not be whitelisted. ' +\n          'Please add your IP address (or 0.0.0.0/0 for development) to MongoDB Atlas Network Access list. ' +\n          'See MONGODB_SETUP_GUIDE.md for instructions.'\n        )\n      }\n      \n      if (error.message.includes('authentication') || error.message.includes('bad auth')) {\n        throw new Error(\n          'MongoDB authentication failed. Please check your username and password in the connection string.'\n        )\n      }\n      \n      if (error.message.includes('timeout')) {\n        throw new Error(\n          'Connection timeout. Please check your internet connection and MongoDB Atlas status.'\n        )\n      }\n      \n      throw error\n    })\n  }\n\n  try {\n    cached.conn = await cached.promise\n  } catch (e: any) {\n    cached.promise = null\n    console.error('âŒ Failed to establish MongoDB connection:', e.message)\n    // Re-throw with better error message\n    throw e\n  }\n\n  return cached.conn\n}\n\nexport default connectDB\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE/C;;AAaA,IAAI,SAAwB,OAAO,QAAQ,IAAI;IAAE,MAAM;IAAM,SAAS;AAAK;AAE3E,IAAI,CAAC,OAAO,QAAQ,EAAE;IACpB,OAAO,QAAQ,GAAG;AACpB;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,QAAQ,GAAG,CAAC;QACZ,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;YAChB,0BAA0B;YAC1B,iBAAiB;YACjB,aAAa;YACb,aAAa;QACf;QAEA,QAAQ,GAAG,CAAC;QAEZ,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACzD,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC,CAAC,aAAa,EAAE,SAAS,UAAU,CAAC,EAAE,EAAE,gBAAgB,WAAW;YAC/E,OAAO;QACT,GAAG,KAAK,CAAC,CAAC;YACR,QAAQ,KAAK,CAAC,+BAA+B,MAAM,OAAO;YAC1D,QAAQ,KAAK,CAAC,eAAe;YAE7B,iCAAiC;YACjC,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,SAAS,MAAM,OAAO,CAAC,QAAQ,CAAC,gBAAgB,MAAM,OAAO,CAAC,QAAQ,CAAC,cAAc;gBAC9G,MAAM,IAAI,MACR,iFACA,qGACA;YAEJ;YAEA,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,qBAAqB,MAAM,OAAO,CAAC,QAAQ,CAAC,aAAa;gBAClF,MAAM,IAAI,MACR;YAEJ;YAEA,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,YAAY;gBACrC,MAAM,IAAI,MACR;YAEJ;YAEA,MAAM;QACR;IACF;IAEA,IAAI;QACF,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACpC,EAAE,OAAO,GAAQ;QACf,OAAO,OAAO,GAAG;QACjB,QAAQ,KAAK,CAAC,6CAA6C,EAAE,OAAO;QACpE,qCAAqC;QACrC,MAAM;IACR;IAEA,OAAO,OAAO,IAAI;AACpB;uCAEe"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///E:/E-Commerce/lib/models/Order.ts"],"sourcesContent":["import mongoose from 'mongoose'\r\n\r\nconst orderSchema = new mongoose.Schema({\r\n  userId: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  items: [{\r\n    productId: String,\r\n    name: String,\r\n    price: Number,\r\n    quantity: Number,\r\n    image: String,\r\n  }],\r\n  totalAmount: {\r\n    type: Number,\r\n    required: true,\r\n  },\r\n  status: {\r\n    type: String,\r\n    enum: ['pending', 'processing', 'shipped', 'delivered', 'cancelled'],\r\n    default: 'pending',\r\n  },\r\n  paymentStatus: {\r\n    type: String,\r\n    enum: ['pending', 'paid', 'failed', 'refunded'],\r\n    default: 'pending',\r\n  },\r\n  shippingAddress: {\r\n    street: String,\r\n    city: String,\r\n    state: String,\r\n    zipCode: String,\r\n    country: String,\r\n  },\r\n  paymentMethod: {\r\n    type: String,\r\n    default: 'card',\r\n  },\r\n}, {\r\n  timestamps: true,\r\n})\r\n\r\nexport default mongoose.models.Order || mongoose.model('Order', orderSchema)\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACtC,QAAQ;QACN,MAAM;QACN,UAAU;IACZ;IACA,OAAO;QAAC;YACN,WAAW;YACX,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;QACT;KAAE;IACF,aAAa;QACX,MAAM;QACN,UAAU;IACZ;IACA,QAAQ;QACN,MAAM;QACN,MAAM;YAAC;YAAW;YAAc;YAAW;YAAa;SAAY;QACpE,SAAS;IACX;IACA,eAAe;QACb,MAAM;QACN,MAAM;YAAC;YAAW;YAAQ;YAAU;SAAW;QAC/C,SAAS;IACX;IACA,iBAAiB;QACf,QAAQ;QACR,MAAM;QACN,OAAO;QACP,SAAS;QACT,SAAS;IACX;IACA,eAAe;QACb,MAAM;QACN,SAAS;IACX;AACF,GAAG;IACD,YAAY;AACd;uCAEe,oHAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,oHAAQ,CAAC,KAAK,CAAC,SAAS"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///E:/E-Commerce/app/api/assistant-orders/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport connectDB from '@/lib/db'\r\nimport Order from '@/lib/models/Order'\r\n\r\n// Get user orders from MongoDB or return empty (client will use localStorage)\r\nconst getUserOrders = async (userId: string) => {\r\n  try {\r\n    await connectDB()\r\n    const orders = await Order.find({ userId }).sort({ createdAt: -1 }).limit(20)\r\n    return orders.map(order => ({\r\n      orderId: order._id.toString(),\r\n      id: order.id || `FAS-${order._id.toString().slice(-8).toUpperCase()}`,\r\n      orderDate: order.createdAt,\r\n      deliveryDate: order.status === 'delivered' ? order.updatedAt : null,\r\n      items: order.items || [],\r\n      paymentStatus: order.paymentStatus || 'pending',\r\n      orderStatus: order.status || 'processing',\r\n      trackingId: order.trackingId || `TRK-${order._id.toString().slice(-8).toUpperCase()}`,\r\n      trackingUrl: order.trackingUrl || `https://track.fashino.com/${order._id}`,\r\n      totalAmount: order.totalAmount,\r\n      shippingAddress: order.shippingAddress,\r\n      refundStatus: order.refundStatus || null,\r\n      returnStatus: order.returnStatus || null\r\n    }))\r\n  } catch (error) {\r\n    console.error('Error fetching orders from DB:', error)\r\n    // Return empty - client will use localStorage\r\n    return []\r\n  }\r\n}\r\n\r\n// Detect intent from query\r\ntype OrderIntent = 'track' | 'status' | 'delivery' | 'refund' | 'return' | 'cancel' | 'list' | 'item-search' | 'support' | 'non-order'\r\n\r\nconst detectIntent = (query: string): OrderIntent => {\r\n  const normalized = query.toLowerCase()\r\n  \r\n  if (normalized.includes('product') && !normalized.includes('order')) {\r\n    return 'non-order'\r\n  }\r\n  \r\n  if (normalized.includes('track') || normalized.includes('tracking')) return 'track'\r\n  if (normalized.includes('status') || normalized.includes('kya hai')) return 'status'\r\n  if (normalized.includes('deliver') || normalized.includes('kab aayega') || normalized.includes('eta')) return 'delivery'\r\n  if (normalized.includes('refund') || normalized.includes('paisa')) return 'refund'\r\n  if (normalized.includes('return')) return 'return'\r\n  if (normalized.includes('cancel')) return 'cancel'\r\n  if (normalized.includes('recent') || normalized.includes('list') || normalized.includes('dikhao') || normalized.includes('sab')) return 'list'\r\n  if (normalized.includes('support') || normalized.includes('help') || normalized.includes('contact') || normalized.includes('number')) return 'support'\r\n  if (normalized.match(/order\\s*#?[a-z0-9-]+/i)) return 'status'\r\n  \r\n  return 'item-search'\r\n}\r\n\r\n// Extract order ID from query\r\nconst extractOrderId = (query: string): string | null => {\r\n  const match = query.match(/order\\s*#?([a-z0-9-]+)/i)\r\n  return match ? match[1] : null\r\n}\r\n\r\n// Extract item name from query\r\nconst extractItemName = (query: string): string | null => {\r\n  const normalized = query.toLowerCase()\r\n  const itemKeywords = ['tee', 'shirt', 'jacket', 'hoodie', 'pant', 'dress', 'shoe', 'item']\r\n  \r\n  for (const keyword of itemKeywords) {\r\n    if (normalized.includes(keyword)) {\r\n      // Try to extract the full item name\r\n      const words = query.split(/\\s+/)\r\n      const keywordIndex = words.findIndex(w => w.toLowerCase().includes(keyword))\r\n      if (keywordIndex !== -1) {\r\n        return words.slice(Math.max(0, keywordIndex - 2), keywordIndex + 3).join(' ')\r\n      }\r\n    }\r\n  }\r\n  \r\n  return null\r\n}\r\n\r\n// Calculate delivery ETA\r\nconst getDeliveryETA = (orderDate: Date, status: string): string => {\r\n  const daysSinceOrder = Math.floor((Date.now() - new Date(orderDate).getTime()) / (1000 * 60 * 60 * 24))\r\n  \r\n  if (status === 'delivered') {\r\n    return 'Delivered'\r\n  }\r\n  \r\n  if (status === 'shipped') {\r\n    return `${3 - daysSinceOrder} days`\r\n  }\r\n  \r\n  if (status === 'processing') {\r\n    return `${5 - daysSinceOrder} days`\r\n  }\r\n  \r\n  return '5-7 business days'\r\n}\r\n\r\n// Generate response\r\nconst generateResponse = (query: string, orders: any[], intent: OrderIntent, userName: string): any => {\r\n  const normalizedQuery = query.toLowerCase()\r\n  \r\n  // Non-order query\r\n  if (intent === 'non-order') {\r\n    return {\r\n      text: \"This bot is only for order and customer support queries. For product information please ask the shopping assistant.\",\r\n      orders: [],\r\n      actions: []\r\n    }\r\n  }\r\n  \r\n  // Support query\r\n  if (intent === 'support') {\r\n    return {\r\n      text: `Customer Support Options:\\n\\nðŸ“§ Email: support@fashino.com\\nðŸ“ž Phone: +91-1800-XXX-XXXX\\nðŸ’¬ Live Chat: Available 24/7\\nðŸ• Hours: Mon-Sun, 9 AM - 9 PM\\n\\nFor order-specific queries, I can help you right here!`,\r\n      orders: [],\r\n      actions: []\r\n    }\r\n  }\r\n  \r\n  // List orders\r\n  if (intent === 'list' || orders.length === 0) {\r\n    if (orders.length === 0) {\r\n      return {\r\n        text: `Hello ${userName}! ðŸ‘‹\\n\\nYou don't have any orders yet. Once you place an order, I'll be able to help you track it!`,\r\n        orders: [],\r\n        actions: []\r\n      }\r\n    }\r\n    \r\n    let responseText = `Hello ${userName}! ðŸ‘‹\\n\\nHere are your recent orders:\\n\\n`\r\n    orders.slice(0, 5).forEach((order: any, i: number) => {\r\n      responseText += `${i + 1}) Order #${order.id}\\n`\r\n      responseText += `   Date: ${new Date(order.orderDate).toLocaleDateString('en-IN')}\\n`\r\n      responseText += `   Items: ${order.items.length}\\n`\r\n      responseText += `   Status: ${order.orderStatus}\\n`\r\n      responseText += `   Total: â‚¹${order.totalAmount.toLocaleString('en-IN')}\\n\\n`\r\n    })\r\n    \r\n    if (orders.length > 5) {\r\n      responseText += `... and ${orders.length - 5} more orders.`\r\n    }\r\n    \r\n    return {\r\n      text: responseText,\r\n      orders: orders.slice(0, 5),\r\n      actions: ['view_all']\r\n    }\r\n  }\r\n  \r\n  // Find order by ID\r\n  const orderId = extractOrderId(query)\r\n  let targetOrder = orderId \r\n    ? orders.find(o => o.id === orderId || o.orderId === orderId)\r\n    : null\r\n  \r\n  // Find order by item name\r\n  if (!targetOrder) {\r\n    const itemName = extractItemName(query)\r\n    if (itemName) {\r\n      targetOrder = orders.find(order => \r\n        order.items.some((item: any) => \r\n          item.name.toLowerCase().includes(itemName.toLowerCase())\r\n        )\r\n      )\r\n    }\r\n  }\r\n  \r\n  // If no specific order, use latest\r\n  if (!targetOrder && orders.length > 0) {\r\n    targetOrder = orders[0]\r\n  }\r\n  \r\n  if (!targetOrder) {\r\n    return {\r\n      text: `I couldn't find that order. Please check your order ID or ask me to show your recent orders.`,\r\n      orders: [],\r\n      actions: []\r\n    }\r\n  }\r\n  \r\n  const order = targetOrder\r\n  const deliveryETA = getDeliveryETA(order.orderDate, order.orderStatus)\r\n  \r\n  // Track order\r\n  if (intent === 'track') {\r\n    return {\r\n      text: `ðŸ“¦ Order Tracking:\\n\\nOrder ID: #${order.id}\\nTracking ID: ${order.trackingId}\\nStatus: ${order.orderStatus}\\n\\nTracking Link: ${order.trackingUrl}\\n\\nExpected Delivery: ${deliveryETA}`,\r\n      orders: [order],\r\n      actions: ['track', 'view_order']\r\n    }\r\n  }\r\n  \r\n  // Delivery ETA\r\n  if (intent === 'delivery') {\r\n    return {\r\n      text: `ðŸ“… Delivery Information:\\n\\nOrder #${order.id}\\nExpected Delivery: ${deliveryETA}\\nCurrent Status: ${order.orderStatus}\\n\\nYour order is ${order.orderStatus === 'processing' ? 'being prepared' : order.orderStatus === 'shipped' ? 'on the way' : 'delivered'}!`,\r\n      orders: [order],\r\n      actions: ['track', 'view_order']\r\n    }\r\n  }\r\n  \r\n  // Refund status\r\n  if (intent === 'refund') {\r\n    if (order.refundStatus) {\r\n      return {\r\n        text: `ðŸ’° Refund Status:\\n\\nOrder #${order.id}\\nRefund Status: ${order.refundStatus}\\n\\nYour refund is ${order.refundStatus === 'processed' ? 'completed' : 'being processed'}. It will reflect in your account within 5-7 business days.`,\r\n        orders: [order],\r\n        actions: ['view_order', 'need_help']\r\n      }\r\n    }\r\n    return {\r\n      text: `No refund has been requested for Order #${order.id}. If you'd like to request a refund, please contact customer support or use the return feature.`,\r\n      orders: [order],\r\n      actions: ['view_order', 'need_help']\r\n    }\r\n  }\r\n  \r\n  // Return status\r\n  if (intent === 'return') {\r\n    if (order.returnStatus) {\r\n      return {\r\n        text: `ðŸ”„ Return Status:\\n\\nOrder #${order.id}\\nReturn Status: ${order.returnStatus}\\n\\nYour return is ${order.returnStatus === 'approved' ? 'approved' : order.returnStatus === 'processed' ? 'processed' : 'under review'}.`,\r\n        orders: [order],\r\n        actions: ['view_order', 'need_help']\r\n      }\r\n    }\r\n    return {\r\n      text: `No return has been requested for Order #${order.id}. To initiate a return, please contact customer support.`,\r\n      orders: [order],\r\n      actions: ['view_order', 'need_help']\r\n    }\r\n  }\r\n  \r\n  // Cancel order\r\n  if (intent === 'cancel') {\r\n    if (order.orderStatus === 'delivered' || order.orderStatus === 'cancelled') {\r\n      return {\r\n        text: `This order cannot be cancelled as it is already ${order.orderStatus}.`,\r\n        orders: [order],\r\n        actions: ['view_order']\r\n      }\r\n    }\r\n    return {\r\n      text: `Order #${order.id} can be cancelled. Would you like me to help you cancel it?`,\r\n      orders: [order],\r\n      actions: ['cancel', 'view_order']\r\n    }\r\n  }\r\n  \r\n  // Default status response\r\n  let responseText = `ðŸ“‹ Order Details:\\n\\nOrder ID: #${order.id}\\nOrder Date: ${new Date(order.orderDate).toLocaleDateString('en-IN')}\\nStatus: ${order.orderStatus}\\nPayment: ${order.paymentStatus}\\nExpected Delivery: ${deliveryETA}\\n\\nItems:\\n`\r\n  \r\n  order.items.forEach((item: any, i: number) => {\r\n    responseText += `${i + 1}) ${item.name} - Qty: ${item.quantity} - â‚¹${(item.price * item.quantity).toLocaleString('en-IN')}\\n`\r\n  })\r\n  \r\n  responseText += `\\nTotal: â‚¹${order.totalAmount.toLocaleString('en-IN')}`\r\n  \r\n  if (order.refundStatus) {\r\n    responseText += `\\nRefund Status: ${order.refundStatus}`\r\n  }\r\n  if (order.returnStatus) {\r\n    responseText += `\\nReturn Status: ${order.returnStatus}`\r\n  }\r\n  \r\n  return {\r\n    text: responseText,\r\n    orders: [order],\r\n    actions: ['view_order', 'track', 'need_help']\r\n  }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { query, userId, localOrders } = await request.json()\r\n    \r\n    if (!query || typeof query !== 'string') {\r\n      return NextResponse.json(\r\n        { error: 'Query is required' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n    \r\n    if (!userId) {\r\n      return NextResponse.json(\r\n        { error: 'User ID is required' },\r\n        { status: 401 }\r\n      )\r\n    }\r\n    \r\n    // Try MongoDB first, fallback to localStorage orders\r\n    let orders = await getUserOrders(userId)\r\n    if (orders.length === 0 && localOrders && localOrders.length > 0) {\r\n      orders = localOrders\r\n    }\r\n    \r\n    const intent = detectIntent(query)\r\n    \r\n    // Get user name from request or use default\r\n    const userName = request.headers.get('x-user-name') || 'User'\r\n    \r\n    const response = generateResponse(query, orders, intent, userName)\r\n    \r\n    return NextResponse.json({\r\n      success: true,\r\n      query,\r\n      intent,\r\n      response: response.text,\r\n      orders: response.orders,\r\n      actions: response.actions\r\n    })\r\n  } catch (error: any) {\r\n    console.error('Order assistant error:', error)\r\n    return NextResponse.json(\r\n      { error: error.message || 'Failed to process query' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}